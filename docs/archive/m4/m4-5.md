# M4-5: 鍛錬システム

読むファイル: WeaponData.cs, GameConfig.cs, CharacterState.cs
変更ファイル: GameConfig.cs, 新規 Scripts/Shared/TrainingSystem.cs

鍛錬システム（ステータス振り分け）を実装する。

1. 新規 Scripts/Shared/TrainingSystem.cs：
   - static クラス（計算ロジックのみ。状態保持はサーバー側で別途管理）
   - 三角数コスト計算: n段階のコスト = n × (n+1) ÷ 2
   - 武器ごとの鍛錬上限（仮: 大剣24）
   - 振り分け可能ステータス: ATK, 破壊力, DEF, HP, 無双

2. データ構造:
```
TrainingAllocation 構造体:
  - int AtkLevel（攻撃力段階）
  - int BreakLevel（破壊力段階）
  - int DefLevel（防御力段階）
  - int HpLevel（体力段階）
  - int MusouLevel（無双段階）

static int CalcCost(int level) → 三角数コスト
static int CalcTotalCost(TrainingAllocation) → 合計コスト
static bool IsValid(TrainingAllocation, int maxPoints) → 上限内か
static float CalcStatBonus(int level, float basePerLevel) → 段階に応じたボーナス値
```

3. GameConfig.cs に追加：
   - TRAINING_ATK_PER_LEVEL = 5f（1段階あたりのATK増加）
   - TRAINING_DEF_PER_LEVEL = 5f
   - TRAINING_HP_PER_LEVEL = 50f
   - TRAINING_MUSOU_PER_LEVEL = 5f
   - TRAINING_BREAK_PER_LEVEL = 5f
   - DEFAULT_TRAINING_MAX = 24

※ UIでの振り分け画面はM6（ポリッシュ）で実装。M4では計算ロジックのみ。
※ 戦闘開始時にサーバーがTrainingAllocationを読み込んでステータスに反映する仕組みはM5で実装。

git commit -m "M4-5: 鍛錬システム（三角数コスト・ステータス振り分け計算）"
