# M4-8: ブレイクチャージ（武器2システム）

読むファイル: ComboSystem.cs, WeaponData.cs, PlayerMovement.cs, CharacterState.cs
変更ファイル: ComboSystem.cs, PlayerMovement.cs, CharacterState.cs, GameConfig.cs

ブレイクチャージ（武器2切り替え攻撃）を実装する。

1. CharacterState.cs：
   - BreakCharge ステートを確認（既存にあるはず）
   - BreakRush 用のステートがなければ追加

2. PlayerMovement.cs / PlayerInput.cs：
   - L2（Qキー）入力を BreakPressed として追加
   - PlayerInput 構造体に BreakPressed : bool を追加

3. ComboSystem.cs：
   - 武器2の WeaponType を保持（NetworkVariable<WeaponType>、サーバー権威）
   - ブレイクチャージの3パターン:

| 状況 | L2で出る技 | 参照先 |
|------|-----------|--------|
| 地上通常 (BC) | 武器2のC3 | WeaponData.GetWeaponParams(weapon2).ChargeMultipliers[3] |
| ダッシュ中 (DBC) | 武器2のD | WeaponData.GetWeaponParams(weapon2).DashAttackMultiplier |
| 空中 (ABC) | 武器2のJC | WeaponData.GetWeaponParams(weapon2).JumpChargeMultiplier |

   - TryStartBreakCharge() メソッド: 入力と状況に応じて武器2のパラメータで攻撃
   - ブレイクラッシュ: BC連続発動で攻撃力UP（仮: +10%ずつスタック）

4. GameConfig.cs に追加：
   - BREAK_RUSH_ATK_BONUS = 0.1f（連続BC時の攻撃力UP率）
   - BREAK_RUSH_MAX_STACK = 5

※ 武器2選択UIはM6で実装。M4ではデバッグヘルパーで武器2を設定可能にする。

git commit -m "M4-8: ブレイクチャージ（武器2システム）"
