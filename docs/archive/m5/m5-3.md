# M5-3: Unity Relay ã‚µãƒ¼ãƒãƒ¼æ¥ç¶š

èª­ã‚€ãƒ•ã‚¡ã‚¤ãƒ«: CLAUDE.md, GameConfig.cs, AuthManager.cs
å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«: æ–°è¦ Scripts/Netcode/RelayManager.cs, HelloNetwork.cs, GameConfig.cs

Unity Relay Serviceã‚’ä½¿ã£ãŸNATè¶Šãˆæ¥ç¶šã‚’å®Ÿè£…ã™ã‚‹ã€‚
ç¾åœ¨ã®localhost:7777ç›´çµã‹ã‚‰RelayçµŒç”±ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã€‚

## å®Ÿè£…å†…å®¹

1. æ–°è¦ Scripts/Netcode/RelayManager.csï¼š
   - MonoBehaviourï¼ˆã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ï¼‰
   - Unity Gaming Services (UGS) åˆæœŸåŒ–
   - ãƒ›ã‚¹ãƒˆ: CreateAllocation â†’ GetJoinCode â†’ Relayãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆè¨­å®š â†’ StartHost
   - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: JoinCodeå…¥åŠ› â†’ JoinAllocation â†’ Relayãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆè¨­å®š â†’ StartClient
   - JoinCode ã‚’ UI ã«è¡¨ç¤ºï¼ˆãƒ›ã‚¹ãƒˆå´ï¼‰
   - maxConnections = GameConfig.MAX_PLAYERS

2. HelloNetwork.cs ä¿®æ­£ï¼š
   - Host ãƒœã‚¿ãƒ³ â†’ RelayManager.CreateRelay() çµŒç”±ã«å¤‰æ›´
   - Client ãƒœã‚¿ãƒ³ â†’ JoinCode å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ  â†’ RelayManager.JoinRelay(code) çµŒç”±
   - localhostç›´çµã¯ #if UNITY_EDITOR ã®ãƒ‡ãƒãƒƒã‚°ç”¨ã¨ã—ã¦æ®‹ã™

3. GameConfig.cs ã«è¿½åŠ ï¼š
   - RELAY_REGION = "asia-east"ï¼ˆæœ€å¯„ã‚Šãƒªãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰

## Unityæ‰‹å‹•è¨­å®š ğŸ”§
- Unity Dashboard ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ³ã‚¯ï¼ˆProject Settings â†’ Servicesï¼‰
- Relay Service ã‚’æœ‰åŠ¹åŒ–
- com.unity.services.relay ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ï¼ˆPackage Managerï¼‰
- com.unity.services.core ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ï¼ˆä¾å­˜ï¼‰

## æ³¨æ„äº‹é …
- ParrelSync ãƒ†ã‚¹ãƒˆæ™‚ã¯ localhost ç›´çµã®ã¾ã¾ï¼ˆRelayä¸è¦ï¼‰
- æœ¬ç•ªãƒ†ã‚¹ãƒˆã¯2å°ã®åˆ¥PCã¾ãŸã¯ãƒ“ãƒ«ãƒ‰æ¸ˆã¿exeã§ç¢ºèª

git commit -m "M5-3: Unity Relayæ¥ç¶š"
