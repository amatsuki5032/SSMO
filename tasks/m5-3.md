# M5-3: Unity Relay サーバー

読むファイル: CLAUDE.md, GameConfig.cs, AuthManager.cs
変更ファイル: 新規 Scripts/Netcode/RelayManager.cs, GameConfig.cs

Unity Relay Serviceを使ったNAT越え接続を実装する。

1. 新規 Scripts/Netcode/RelayManager.cs：
   - MonoBehaviour（シングルトン）
   - Unity Gaming Services (UGS) 初期化
   - Relay Allocation作成（ホスト側）
   - Join Code生成 → クライアントに共有
   - クライアント側: Join Codeで接続
   - Unity Transport の接続先をRelay経由に設定

2. 接続フロー：
   - ホスト: UGS初期化 → Relay Allocation → JoinCode取得 → StartHost()
   - クライアント: UGS初期化 → JoinCode入力 → Relay接続 → StartClient()

3. GameConfig.cs に追加：
   - MAX_RELAY_CONNECTIONS = 8
   - RELAY_REGION = "asia-east"（仮）

4. Unity設定（手動）：
   - Unity Dashboard で Relay Service を有効化
   - com.unity.services.relay パッケージ追加

※ ロビー/マッチメイキングはM5-4で実装。M5-3はRelay接続のみ。
※ localhost開発はこれまで通り可能（Relay無しフォールバック）

git commit -m "M5-3: Unity Relay サーバー接続"
