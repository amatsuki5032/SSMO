# M5-2: Firestore プレイヤーデータ保存

読むファイル: AuthManager.cs, WeaponData.cs, TrainingSystem.cs, GameConfig.cs
変更ファイル: 新規 Scripts/Netcode/PlayerDataManager.cs, GameConfig.cs

Firestoreでプレイヤーの永続データを保存・読み込みする。

1. 新規 Scripts/Netcode/PlayerDataManager.cs：
   - MonoBehaviour（シングルトン）
   - Firestore SDK初期化
   - プレイヤーデータの保存/読み込み:

```
Firestoreコレクション構造:
  players/{uid}/
    - displayName: string
    - weaponType1: int（メイン武器）
    - weaponType2: int（サブ武器）
    - training: map（鍛錬振り分け）
    - inscription: map（刻印設定）
    - elementType: int（装備属性）
    - elementLevel: int（属性レベル）
    - stats: map（戦績: 勝利数、撃破数等）
    - createdAt: timestamp
    - lastLogin: timestamp
```

   - LoadPlayerData(uid) → PlayerData構造体
   - SavePlayerData(uid, PlayerData) → Firestoreに書き込み
   - 戦闘開始時にサーバーがプレイヤーデータを読み込んでステータスに反映
   - 戦闘終了時に戦績を更新

2. Firestoreセキュリティルール：
   - ユーザーは自分のドキュメントのみ読み書き可能
   - サーバー（Admin SDK）は全ドキュメントアクセス可能

3. GameConfig.cs に追加：
   - FIRESTORE_TIMEOUT = 5f

git commit -m "M5-2: Firestoreプレイヤーデータ保存"
