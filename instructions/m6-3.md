# M6-3: サウンドシステム

読むファイル: HitboxSystem.cs, ComboSystem.cs, CharacterStateMachine.cs, GameConfig.cs
変更ファイル: 新規 Scripts/Combat/SoundManager.cs, HitboxSystem.cs, ComboSystem.cs

効果音とBGMの再生システムを実装する。

## 実装内容

1. 新規 Scripts/Combat/SoundManager.cs：
   - MonoBehaviour（シングルトン）
   - AudioSource プール管理（SE用：複数同時再生、BGM用：1ch）
   - 音量設定（SE / BGM / Master）

2. SE一覧:

| SE | トリガー |
|----|---------|
| 攻撃振り（N1-N6） | 攻撃開始時 |
| チャージ攻撃振り | C攻撃開始時 |
| ヒット音（通常） | 通常攻撃ヒット |
| ヒット音（チャージ） | C攻撃ヒット |
| ガード音 | ガード成功 |
| EG準備音 | EG準備完了 |
| EGカウンター音 | カウンター発動 |
| 無双発動音 | 無双乱舞開始 |
| 撃破音 | 敵HP0 |
| ジャンプ音 | ジャンプ開始 |
| 着地音 | 着地 |
| ダッシュ音 | ダッシュ攻撃開始 |
| 仙箪取得音 | 仙箪拾い |
| 強化音 | リングスロット発動 |
| 拠点制圧音 | 拠点所属変更 |

3. BGM:
   - ロビー曲 / 戦闘曲 / 勝利曲 / 敗北曲
   - クロスフェード切り替え

4. HitboxSystem.cs / ComboSystem.cs 修正：
   - ヒット/攻撃開始時に SoundManager.PlaySE() をクライアント側で呼ぶ
   - 3D音源（AudioSource.spatialBlend = 1）で距離減衰

## Unity手動設定 🔧
- 音素材（.wav / .ogg）を Assets/Audio/SE/ と Assets/Audio/BGM/ にインポート
- AudioMixer を作成（Master / SE / BGM グループ）

## 注意事項
- SE再生はクライアント側のみ（サーバーは音を鳴らさない）
- NotifyHitClientRpc を利用して適切なタイミングで再生
- 同一フレームの大量SE同時再生を制限（最大同時再生数）

git commit -m "M6-3: サウンドシステム"
