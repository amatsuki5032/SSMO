# M6-5: バトルマップ改善

読むファイル: MapGenerator.cs, BasePoint.cs, GameConfig.cs, CameraController.cs
変更ファイル: MapGenerator.cs, GameConfig.cs

フラットな100m×100mマップに地形・障害物・視覚的改善を加える。

## 実装内容

1. MapGenerator.cs 改善：
   - 地面にテクスチャ（草原/砂地/石畳の3ゾーン）
   - 拠点のビジュアル改善（立方体→城壁風の構造物）
   - 拠点間をつなぐ道
   - 障害物の配置改善（ランダムではなく戦略的配置）:
     - 中央拠点周辺: 遮蔽物（柵・岩・低壁）
     - 各ルート上: 見通し制限用の壁
     - マップ端付近: 装飾用の木・岩
   - 高低差（丘・スロープ）の追加（CharacterControllerで対応可能な範囲）

2. マップレイアウト設計:
```
    [青拠点1]----[中央拠点]----[赤拠点1]
         \         |         /
          \   [障害物群]   /
           \      |      /
    [青拠点2]----[道]----[赤拠点2]
```
   - 対称配置（赤/青が公平）
   - 中央拠点への複数ルート（正面・迂回）
   - 各ルートに遮蔽物（めくりの駆け引きが生まれる配置）

3. ライティング:
   - Directional Light の角度・色調整
   - 拠点ごとのPoint Light（所属チームの色）

4. スカイボックス:
   - 青空 or 曇天のスカイボックス設定

5. GameConfig.cs 更新：
   - BASE_POSITIONS[] の座標を新レイアウトに合わせて更新（必要に応じて）
   - 障害物配置の定数追加

## Unity手動設定 🔧
- テクスチャ・マテリアルを Assets/Materials/ にインポート
- Terrain（使う場合）の設定、または ProBuilder でメッシュ作成
- ライティング設定（Lighting Settings Window）
- スカイボックス設定（Rendering → Lighting → Environment）
- NavMesh Bake（NPC兵士の移動に影響する場合）

## 注意事項
- カメラの壁貫通回避（CameraController）が新しい障害物でも機能するか確認
- CharacterController の slope limit / step offset が高低差に対応するか確認
- パフォーマンス: 静的オブジェクトは Static フラグを立てる（バッチング最適化）

git commit -m "M6-5: バトルマップ改善"
