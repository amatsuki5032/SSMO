# M6-2: ヒットエフェクト＆属性エフェクト

読むファイル: HitboxSystem.cs, StatusEffectManager.cs, EGSystem.cs, MusouGauge.cs, GameConfig.cs
変更ファイル: HitboxSystem.cs, StatusEffectManager.cs, EGSystem.cs, 新規 Scripts/Combat/EffectManager.cs

戦闘の視覚フィードバックを実装する。

## 実装内容

1. 新規 Scripts/Combat/EffectManager.cs：
   - MonoBehaviour（シングルトン）
   - パーティクルシステムのプール管理（オブジェクトプール）
   - エフェクト種別:

| エフェクト | トリガー | 見た目 |
|-----------|---------|--------|
| 通常ヒット | N攻撃ヒット時 | 白い衝撃波 |
| チャージヒット | C攻撃ヒット時 | 大きい衝撃波+光 |
| ガードヒット | ガード成功時 | 青い火花 |
| EGカウンター | EG発動時 | 属性色の大爆発 |
| 無双発動 | 無双乱舞開始時 | オーラ爆発 |
| 無双ヒット | 無双攻撃ヒット時 | 連続衝撃波 |
| 撃破 | HP0時 | 大きい爆発 |

2. 属性エフェクト:

| 属性 | 持続エフェクト | ヒットエフェクト |
|------|-------------|-------------|
| 炎 | 体に炎まとう | 赤い爆発 |
| 氷 | 体が青白く光る+凍結時氷結晶 | 青い結晶飛散 |
| 雷 | 体に電撃走る+気絶時★マーク | 黄色い放電 |
| 風 | 体に緑の風 | 緑の旋風 |
| 斬 | なし | 紫の斬撃波 |

3. HitboxSystem.cs 修正：
   - NotifyHitClientRpc に攻撃種別・属性情報を追加
   - クライアント側でEffectManager.SpawnEffect() を呼ぶ

4. EGSystem.cs 修正：
   - EG準備中のオーラエフェクト（他プレイヤーにも見える）
   - EGカウンター成功時のエフェクト

5. StatusEffectManager.cs 修正：
   - 燃焼/凍結/感電/鈍足の持続エフェクト表示

## パーティクルシステム設計
- 全エフェクトは Prefab として Assets/Effects/ に配置
- EffectManager がプールで管理（GC回避）
- エフェクトの寿命は各Prefabの ParticleSystem.duration で自動管理

git commit -m "M6-2: ヒットエフェクト＆属性エフェクト"
