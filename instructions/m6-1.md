# M6-1: キャラクターモデル＆アニメーション

読むファイル: PlayerMovement.cs, ComboSystem.cs, CharacterStateMachine.cs, ReactionSystem.cs
変更ファイル: PlayerMovement.cs, 新規 Scripts/Character/AnimationController.cs

箱人間からキャラクターモデルに置き換え、アニメーション連携を実装する。

## 実装内容

1. 新規 Scripts/Character/AnimationController.cs：
   - NetworkBehaviour
   - CharacterStateMachine.OnStateChanged を購読してアニメーション切り替え
   - ComboSystem の ComboStep / ChargeType を監視して攻撃アニメーション再生
   - Animator パラメータ設計:

| パラメータ | 型 | 用途 |
|-----------|-----|------|
| Speed | float | 移動速度（Idle↔Walk↔Run ブレンド） |
| IsGrounded | bool | 接地判定 |
| State | int | CharacterState の int 値 |
| ComboStep | int | 現在のコンボ段数 |
| ChargeType | int | チャージ攻撃番号 |
| IsDashing | bool | ダッシュ中 |
| HitReaction | int | 被弾リアクション種別 |

2. PlayerMovement.cs 修正：
   - 箱人間のMeshRenderer生成を削除
   - モデルPrefabをInstantiate（子オブジェクトとして）
   - AnimationController に Animator 参照を渡す

3. アニメーション対応表（最低限）：

| ステート | アニメーション |
|---------|-------------|
| Idle | 待機 |
| Move | 歩行/走行ブレンド |
| Attack (N1-N6) | 武器種別攻撃モーション×段数 |
| Charge (C1-C6) | 武器種別チャージモーション |
| Guard | ガード構え |
| Jump | ジャンプ上昇/下降 |
| Hitstun | のけぞり |
| Launch | 打ち上げられ |
| Down (3種) | 各ダウンモーション |
| Getup | 起き上がり |
| Dead | 倒れ |
| Musou | 無双乱舞（連続攻撃） |

## Unity手動設定 🔧
- キャラクターモデル（FBX/glTF）をAssets/Models/にインポート
- Animator Controller を作成（Assets/Animations/PlayerAnimator.controller）
- 上記パラメータとステートマシンを手動設定
- アニメーションクリップをステートに割り当て
- NetworkPlayer Prefab のモデルを差し替え
- AnimationController コンポーネントを Prefab に追加

## 注意事項
- アニメーションなしでも動作するフォールバック（モデルがない場合は箱人間）
- 他プレイヤーのアニメーションは NetworkVariable 経由で同期
- Root Motion は使わない（移動はコードで制御済み）

git commit -m "M6-1: キャラクターモデル＆アニメーション基盤"
