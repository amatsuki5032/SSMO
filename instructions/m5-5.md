# M5-5: チート対策・入力バリデーション強化

読むファイル: PlayerMovement.cs, ComboSystem.cs, HitboxSystem.cs, GameConfig.cs, WeaponData.cs
変更ファイル: 新規 Scripts/Server/AntiCheat.cs, PlayerMovement.cs, ComboSystem.cs, HitboxSystem.cs, GameConfig.cs

サーバー側のチート検出・入力バリデーションを強化する。

## 実装内容

1. 新規 Scripts/Server/AntiCheat.cs：
   - MonoBehaviour（サーバー専用、シングルトン）
   - 各プレイヤーの違反カウントを管理
   - 違反上限超過でキック（NetworkManager.DisconnectClient）
   - ログ出力（ServerLogger連携）

2. 速度チェック（PlayerMovement.cs に追加）：
   - 1ティックの移動距離が理論最大値（武器種の移動速度 × deltaTime × 余裕係数）を超過 → 位置を補正
   - 連続違反でAntiCheatに通知

3. 入力レートチェック（PlayerMovement.cs に追加）：
   - ServerRpc の呼び出し頻度を監視
   - 1秒あたりの入力送信数が上限（CLIENT_SEND_RATE × 余裕係数）を超過 → 入力を無視
   - 連続違反でAntiCheatに通知

4. コンボ不正チェック（ComboSystem.cs に追加）：
   - コンボ段数の飛ばしを検出（N1→N4直接遷移等）
   - 連撃強化レベルに応じた上限チェック（未強化でN5以降を出そうとしたら拒否）
   - 攻撃間隔が最小持続時間未満のリクエストを拒否

5. 距離チェック（HitboxSystem.cs に追加）：
   - ヒット判定時に攻撃者と被弾者の距離を二重検証
   - 武器リーチ × 余裕係数 を超えた距離のヒットを無効化

6. GameConfig.cs に追加：
   - ANTICHEAT_SPEED_TOLERANCE = 1.5f（速度チェックの余裕係数）
   - ANTICHEAT_INPUT_RATE_LIMIT = 35（1秒あたりの入力上限）
   - ANTICHEAT_MAX_VIOLATIONS = 10（キックまでの違反数）
   - ANTICHEAT_RANGE_TOLERANCE = 1.5f（距離チェックの余裕係数）
   - ANTICHEAT_VIOLATION_DECAY = 60f（違反カウントの減衰間隔秒）

git commit -m "M5-5: チート対策・入力バリデーション強化"
